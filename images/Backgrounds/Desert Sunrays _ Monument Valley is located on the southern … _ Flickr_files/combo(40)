YUI.add("flickr-autosuggest-getContextResults-fetcher",function(e,t){"use strict";e.namespace("ModelFetchers")["flickr-autosuggest-getContextResults-fetcher"]={run:function(s,r){var o=this,u=this._processParams(s);return e.Promise.all([r.callAPI("flickr.autosuggest.getContextResults",u),r.getModelRegistry("autosuggest-context-results-models")]).then(function(t){return o._processResponse(t,e.merge(u,s))},e.FetcherErrorLogger(t))},_processParams:function(t){var s=t.id.split("_");return{extras:e.APIHelper.request.getRebootPhotoExtras(),context_id:s[0],context_type:s[1]}},_processResponse:function(e,t){var s,r=e[0],o=e[1];if(s={id:t.id,contextId:t.context_id,contextType:t.context_type,tags:r.results.tags||[],people:r.results.people||[],groups:r.results.groups||[]},!r.results)throw new Error("No `results` property returned by API.");return o.add(s)}}},"@VERSION@",{requires:["flickr-promise","api-helper"],optional:["autosuggest-context-results-models"]});YUI.add("text-data-accentfold",function(e,t){e.namespace("Text.Data").AccentFold={0:/[\u2070\u2080\u24EA\uFF10]/gi,1:/[\u00B9\u2081\u2460\uFF11]/gi,2:/[\u00B2\u2082\u2461\uFF12]/gi,3:/[\u00B3\u2083\u2462\uFF13]/gi,4:/[\u2074\u2084\u2463\uFF14]/gi,5:/[\u2075\u2085\u2464\uFF15]/gi,6:/[\u2076\u2086\u2465\uFF16]/gi,7:/[\u2077\u2087\u2466\uFF17]/gi,8:/[\u2078\u2088\u2467\uFF18]/gi,9:/[\u2079\u2089\u2468\uFF19]/gi,a:/[\u00AA\u00E0-\u00E5\u0101\u0103\u0105\u01CE\u01DF\u01E1\u01FB\u0201\u0203\u0227\u1D43\u1E01\u1E9A\u1EA1\u1EA3\u1EA5\u1EA7\u1EA9\u1EAB\u1EAD\u1EAF\u1EB1\u1EB3\u1EB5\u1EB7\u24D0\uFF41]/gi,b:/[\u1D47\u1E03\u1E05\u1E07\u24D1\uFF42]/gi,c:/[\u00E7\u0107\u0109\u010B\u010D\u1D9C\u1E09\u24D2\uFF43]/gi,d:/[\u010F\u1D48\u1E0B\u1E0D\u1E0F\u1E11\u1E13\u217E\u24D3\uFF44]/gi,e:/[\u00E8-\u00EB\u0113\u0115\u0117\u0119\u011B\u0205\u0207\u0229\u1D49\u1E15\u1E17\u1E19\u1E1B\u1E1D\u1EB9\u1EBB\u1EBD\u1EBF\u1EC1\u1EC3\u1EC5\u1EC7\u2091\u212F\u24D4\uFF45]/gi,f:/[\u1DA0\u1E1F\u24D5\uFF46]/gi,g:/[\u011D\u011F\u0121\u0123\u01E7\u01F5\u1D4D\u1E21\u210A\u24D6\uFF47]/gi,h:/[\u0125\u021F\u02B0\u1E23\u1E25\u1E27\u1E29\u1E2B\u1E96\u210E\u24D7\uFF48]/gi,i:/[\u00EC-\u00EF\u0129\u012B\u012D\u012F\u0133\u01D0\u0209\u020B\u1D62\u1E2D\u1E2F\u1EC9\u1ECB\u2071\u2139\u2170\u24D8\uFF49]/gi,j:/[\u0135\u01F0\u02B2\u24D9\u2C7C\uFF4A]/gi,k:/[\u0137\u01E9\u1D4F\u1E31\u1E33\u1E35\u24DA\uFF4B]/gi,l:/[\u013A\u013C\u013E\u0140\u01C9\u02E1\u1E37\u1E39\u1E3B\u1E3D\u2113\u217C\u24DB\uFF4C]/gi,m:/[\u1D50\u1E3F\u1E41\u1E43\u217F\u24DC\uFF4D]/gi,n:/[\u00F1\u0144\u0146\u0148\u01F9\u1E45\u1E47\u1E49\u1E4B\u207F\u24DD\uFF4E]/gi,o:/[\u00BA\u00F2-\u00F6\u014D\u014F\u0151\u01A1\u01D2\u01EB\u01ED\u020D\u020F\u022B\u022D\u022F\u0231\u1D52\u1E4D\u1E4F\u1E51\u1E53\u1ECD\u1ECF\u1ED1\u1ED3\u1ED5\u1ED7\u1ED9\u1EDB\u1EDD\u1EDF\u1EE1\u1EE3\u2092\u2134\u24DE\uFF4F]/gi,p:/[\u1D56\u1E55\u1E57\u24DF\uFF50]/gi,q:/[\u02A0\u24E0\uFF51]/gi,r:/[\u0155\u0157\u0159\u0211\u0213\u02B3\u1D63\u1E59\u1E5B\u1E5D\u1E5F\u24E1\uFF52]/gi,s:/[\u015B\u015D\u015F\u0161\u017F\u0219\u02E2\u1E61\u1E63\u1E65\u1E67\u1E69\u1E9B\u24E2\uFF53]/gi,t:/[\u0163\u0165\u021B\u1D57\u1E6B\u1E6D\u1E6F\u1E71\u1E97\u24E3\uFF54]/gi,u:/[\u00F9-\u00FC\u0169\u016B\u016D\u016F\u0171\u0173\u01B0\u01D4\u01D6\u01D8\u01DA\u01DC\u0215\u0217\u1D58\u1D64\u1E73\u1E75\u1E77\u1E79\u1E7B\u1EE5\u1EE7\u1EE9\u1EEB\u1EED\u1EEF\u1EF1\u24E4\uFF55]/gi,v:/[\u1D5B\u1D65\u1E7D\u1E7F\u2174\u24E5\uFF56]/gi,w:/[\u0175\u02B7\u1E81\u1E83\u1E85\u1E87\u1E89\u1E98\u24E6\uFF57]/gi,x:/[\u02E3\u1E8B\u1E8D\u2093\u2179\u24E7\uFF58]/gi,y:/[\u00FD\u00FF\u0177\u0233\u02B8\u1E8F\u1E99\u1EF3\u1EF5\u1EF7\u1EF9\u24E8\uFF59]/gi,z:/[\u017A\u017C\u017E\u1DBB\u1E91\u1E93\u1E95\u24E9\uFF5A]/gi}},"3.16.0",{requires:["yui-base"]});
YUI.add("text-accentfold",function(e,t){var n=e.Array,r=e.Text,i=r.Data.AccentFold,s={canFold:function(e){var t;for(t in i)if(i.hasOwnProperty(t)&&e.search(i[t])!==-1)return!0;return!1},compare:function(e,t,n){var r=s.fold(e),i=s.fold(t);return n?!!n(r,i):r===i},filter:function(e,t){return n.filter(e,function(e){return t(s.fold(e))})},fold:function(t){return e.Lang.isArray(t)?n.map(t,s.fold):(t=t.toLowerCase(),e.Object.each(i,function(e,n){t=t.replace(e,n)}),t)}};r.AccentFold=s},"3.16.0",{requires:["array-extras","text-data-accentfold"]});
YUI.add("autosuggest-context-results-models",function(t){function e(t){e.superclass.constructor.call(this,t)}t.Models[this.name]=e,t.extend(e,t.FlickrModelRegistry,{name:this.name,langBundles:this.details.langBundles,TAG_ITEM_TYPE:0,PERSON_ITEM_TYPE:1,GROUP_ITEM_TYPE:2,PAGE_ITEM_TYPE:3,processItem:function(e,s){var l;if(e.type=s,e.titleIntlKey&&(e.title=this.intlMessage({intlName:e.titleIntlKey})),e.aliasIntlKeys)for(e.aliases=e.aliases||[],l=0;l<e.aliasIntlKeys.length;l++)e.aliases.push(this.intlMessage({intlName:e.aliasIntlKeys[l]}));return s===this.TAG_ITEM_TYPE||s===this.PAGE_ITEM_TYPE?e.key=e.title:e.key=e.nsid,e.matches&&(e.matches=e.matches.map(function(e){return e.token=t.Text.AccentFold.fold(e.token),e})),e},remote:{read:function(e){return t.ModelFetchers["flickr-autosuggest-getContextResults-fetcher"].run(e,this.appContext)}},attributes:{contextId:{writeOnce:"initOnly"},contextType:{writeOnce:"initOnly"},tags:{setter:function(t){var e,s;for(e=0,s=t.length;e<s;e++)this.processItem(t[e],this.TAG_ITEM_TYPE);return t}},people:{setter:function(t){var e,s;for(e=0,s=t.length;e<s;e++)this.processItem(t[e],this.PERSON_ITEM_TYPE);return t}},groups:{setter:function(t){var e,s;for(e=0,s=t.length;e<s;e++)this.processItem(t[e],this.GROUP_ITEM_TYPE);return t}},pages:{readOnly:!0,getter:function(t){var e,s;for(e=0,s=t.length;e<s;e++)this.processItem(t[e],this.PAGE_ITEM_TYPE);return t},defaultValue:[{url:"/photos/me/",titleIntlKey:"autosuggest.YOUR_PHOTOSTREAM",aliasIntlKeys:["autosuggest.ME"]},{url:"/me/albums/",titleIntlKey:"autosuggest.YOUR_ALBUMS",aliasIntlKeys:["autosuggest.SETS"]},{url:"/photos/me/collections/",titleIntlKey:"autosuggest.YOUR_COLLECTIONS",aliasIntlKeys:[]},{url:"/photos/me/galleries/",titleIntlKey:"autosuggest.YOUR_GALLERIES",aliasIntlKeys:[]},{url:"/photos/me/archives/",titleIntlKey:"autosuggest.YOUR_ARCHIVES",aliasIntlKeys:[]},{url:"/photos/me/tags/",titleIntlKey:"autosuggest.YOUR_TAGS",aliasIntlKeys:[]},{url:"/photos/me/map/",titleIntlKey:"autosuggest.YOUR_MAP",aliasIntlKeys:[]},{url:"/me/favorites/",titleIntlKey:"autosuggest.YOUR_FAVORITES",aliasIntlKeys:[]},{url:"/photos/me/stats/",titleIntlKey:"autosuggest.YOUR_STATS",aliasIntlKeys:["autosuggest.GRAPHS","autosuggest.REFERRERS","autosuggest.VIEWS"]},{url:"/services/apps/by/me/",titleIntlKey:"autosuggest.YOUR_APPS",aliasIntlKeys:[]},{url:"/activity/",titleIntlKey:"autosuggest.RECENT_ACTIVITY",aliasIntlKeys:[]},{url:"/photosof/me/",titleIntlKey:"autosuggest.PHOTOS_OF_YOU",aliasIntlKeys:["autosuggest.ME"]},{url:"/photos/upload/",titleIntlKey:"autosuggest.UPLOAD_PHOTOS",aliasIntlKeys:[]},{url:"/account/",titleIntlKey:"autosuggest.YOUR_ACCOUNT",aliasIntlKeys:["autosuggest.SETTINGS","autosuggest.PREFERENCES"]},{url:"/people/me/",titleIntlKey:"autosuggest.YOUR_PROFILE",aliasIntlKeys:["autosuggest.ME"]},{url:"/photos/organize/",titleIntlKey:"autosuggest.ORGANIZR",aliasIntlKeys:[]},{url:"/photos/contacts/",titleIntlKey:"autosuggest.YOUR_CONTACTS_PHOTOS",aliasIntlKeys:[]},{url:"/photosof/contacts/",titleIntlKey:"autosuggest.PHOTOS_OF_YOUR_CONTACTS",aliasIntlKeys:[]},{url:"/people/me/contacts/",titleIntlKey:"autosuggest.FOLLOWING",aliasIntlKeys:["autosuggest.CONTACTS_LIST"]},{url:"/people/me/contacts/rev/",titleIntlKey:"autosuggest.FOLLOWERS",aliasIntlKeys:[]},{url:"/import/people/",titleIntlKey:"autosuggest.FIND_YOUR_FRIENDS",aliasIntlKeys:[]},{url:"/invite/",titleIntlKey:"autosuggest.INVITE_YOUR_FRIENDS",aliasIntlKeys:[]},{url:"/invite/history/",titleIntlKey:"autosuggest.INVITE_HISTORY",aliasIntlKeys:[]},{url:"/invite/history/guests/",titleIntlKey:"autosuggest.GUEST_PASS_HISTORY",aliasIntlKeys:[]},{url:"/groups/",titleIntlKey:"autosuggest.YOUR_GROUPS",aliasIntlKeys:[]},{url:"/recent.gne/",titleIntlKey:"autosuggest.RECENT_GROUP_DISCUSSIONS",aliasIntlKeys:[]},{url:"/group_create.gne/",titleIntlKey:"autosuggest.CREATE_A_GROUP",aliasIntlKeys:[]},{url:"/explore/",titleIntlKey:"autosuggest.EXPLORE",aliasIntlKeys:[]},{url:"/photos/tags/",titleIntlKey:"autosuggest.POPULAR_TAGS",aliasIntlKeys:[]},{url:"/galleries/",titleIntlKey:"autosuggest.GALLERIES",aliasIntlKeys:[]},{url:"/analog/",titleIntlKey:"autosuggest.ANALOG",aliasIntlKeys:["autosuggest.FILM"]},{url:"/map/",titleIntlKey:"autosuggest.WORLD_MAP",aliasIntlKeys:[]},{url:"/places/",titleIntlKey:"autosuggest.PLACES",aliasIntlKeys:[]},{url:"/marketplace/",titleIntlKey:"autosuggest.FLICKR_MARKETPLACE",aliasIntlKeys:[]},{url:"/commons/",titleIntlKey:"autosuggest.THE_COMMONS",aliasIntlKeys:[]},{url:"/creativecommons/",titleIntlKey:"autosuggest.CREATIVE_COMMONS",aliasIntlKeys:["autosuggest.CC","autosuggest.LICENSE"]},{url:"/services/",titleIntlKey:"autosuggest.THE_APP_GARDEN",aliasIntlKeys:[]},{url:"/cameras/",titleIntlKey:"autosuggest.CAMERA_FINDER",aliasIntlKeys:[]},{url:"/services/api/",titleIntlKey:"autosuggest.API_DOCUMENTATION",aliasIntlKeys:["autosuggest.PROGRAMMING","autosuggest.CODE","autosuggest.DEVELOPER"]},{url:"/services/developer/",titleIntlKey:"autosuggest.DEVELOPER_GUIDE",aliasIntlKeys:["autosuggest.API","autosuggest.PROGRAMMING","autosuggest.CODE","autosuggest.DOCUMENTATION"]},{url:"/services/feeds/",titleIntlKey:"autosuggest.FEEDS",aliasIntlKeys:["autosuggest.RSS","autosuggest.ATOM","autosuggest.DATA"]},{url:"/help/",titleIntlKey:"autosuggest.HELP",aliasIntlKeys:[]},{url:"/help/guidelines/",titleIntlKey:"autosuggest.COMMUNITY_GUIDELINES",aliasIntlKeys:[]},{url:"/help/forum/",titleIntlKey:"autosuggest.HELP_FORUM",aliasIntlKeys:[]},{url:"/tools/",titleIntlKey:"autosuggest.TOOLS",aliasIntlKeys:["autosuggest.UPLOAD","autosuggest.MAC","autosuggest.WINDOWS"]},{url:"/about/",titleIntlKey:"autosuggest.ABOUT_FLICKR",aliasIntlKeys:["autosuggest.STAFF"]},{url:"/mail/",titleIntlKey:"autosuggest.FLICKR_MAIL",aliasIntlKeys:[]},{url:"/create/",titleIntlKey:"autosuggest.CREATE",aliasIntlKeys:["autosuggest.WALL_ART","autosuggest.PHOTO_BOOKS"]},{url:"/cameraroll/",titleIntlKey:"autosuggest.CAMERA_ROLL",aliasIntlKeys:["autosuggest.ORGANIZE"]},{url:"http://blog.flickr.net",titleIntlKey:"autosuggest.THE_FLICKR_BLOG",aliasIntlKeys:[]},{url:"http://code.flickr.net",titleIntlKey:"autosuggest.THE_FLICKR_CODE_BLOG",aliasIntlKeys:["autosuggest.API","autosuggest.PROGRAMMING","autosuggest.CODE","autosuggest.DEVELOPER"]},{url:"/jobs/",titleIntlKey:"autosuggest.JOBS_AT_FLICKR",aliasIntlKeys:["autosuggest.CAREER"]}]}}})},"@VERSION@",{requires:["flickr-model-registry","flickr-autosuggest-getContextResults-fetcher","text-accentfold"],langBundles:["autosuggest"]});YUI.add("hermes-template-search-autosuggest-list-item",function(a,n){var l=a.Template.Handlebars.revive({1:function(a,n,l,e,r){return" header"},3:function(a,n,l,e,r){return" empty"},5:function(a,n,l,e,r){var t,i,s=null!=n?n:{},u=l.helperMissing,o=a.escapeExpression;return" autosuggest-selectable-item"+(null!=(t=l.if.call(s,null!=n?n.selected:n,{name:"if",hash:{},fn:a.program(6,r,0),inverse:a.noop,data:r}))?t:"")+'" data-track="autosuggestNavigate_'+o("function"==typeof(i=null!=(i=l.rapidType||(null!=n?n.rapidType:n))?i:u)?i.call(s,{name:"rapidType",hash:{},data:r}):i)+'" data-href="'+o("function"==typeof(i=null!=(i=l.url||(null!=n?n.url:n))?i:u)?i.call(s,{name:"url",hash:{},data:r}):i)+'"'+(null!=(t=l.if.call(s,null!=n?n.title:n,{name:"if",hash:{},fn:a.program(8,r,0),inverse:a.noop,data:r}))?t:"")+' tabindex="0"'},6:function(a,n,l,e,r){return" selected"},8:function(a,n,l,e,r){var t;return' data-title="'+a.escapeExpression("function"==typeof(t=null!=(t=l.title||(null!=n?n.title:n))?t:l.helperMissing)?t.call(null!=n?n:{},{name:"title",hash:{},data:r}):t)+'"'},10:function(a,n,l,e,r){return'"'},12:function(a,n,l,e,r){var t,i=a.lambda,s=a.escapeExpression,u=null!=n?n:{};return'<span class="item-icon"><span class="avatar tiny no-menu '+s(i(null!=(t=null!=n?n.avatar:n)?t.type:t,n))+'" title="'+s(i(null!=(t=null!=n?n.avatar:n)?t.title:t,n))+'"'+(null!=(t=l.if.call(u,null!=(t=null!=n?n.avatar:n)?t.groupNsid:t,{name:"if",hash:{},fn:a.program(13,r,0),inverse:a.noop,data:r}))?t:"")+(null!=(t=l.if.call(u,null!=(t=null!=n?n.avatar:n)?t.personNsid:t,{name:"if",hash:{},fn:a.program(15,r,0),inverse:a.noop,data:r}))?t:"")+' style="background-image: url('+s(i(null!=(t=null!=n?n.avatar:n)?t.url:t,n))+');"></span></span>'},13:function(a,n,l,e,r){var t;return' data-group-nsid="'+a.escapeExpression(a.lambda(null!=(t=null!=n?n.avatar:n)?t.groupNsid:t,n))+'"'},15:function(a,n,l,e,r){var t;return' data-person-nsid="'+a.escapeExpression(a.lambda(null!=(t=null!=n?n.avatar:n)?t.personNsid:t,n))+'"'},17:function(a,n,l,e,r){var t;return'<span class="item-icon"><span class="'+a.escapeExpression("function"==typeof(t=null!=(t=l.iconClass||(null!=n?n.iconClass:n))?t:l.helperMissing)?t.call(null!=n?n:{},{name:"iconClass",hash:{},data:r}):t)+'"></span></span>'},19:function(a,n,l,e,r){return'<span class="item-icon"></span>'},21:function(a,n,l,e,r){var t,i=null!=n?n:{},s=l.helperMissing;return'<span class="item-title'+(null!=(t=l.if.call(i,null!=n?n.header:n,{name:"if",hash:{},fn:a.program(22,r,0),inverse:a.noop,data:r}))?t:"")+'">'+a.escapeExpression((l.renderTrustedMarkup||n&&n.renderTrustedMarkup||s).call(i,(l.multiHighlightString||n&&n.multiHighlightString||s).call(i,null!=n?n.title:n,null!=n?n.titleHighlights:n,"highlight",{name:"multiHighlightString",hash:{},data:r}),{name:"renderTrustedMarkup",hash:{},data:r}))+"</span>"},22:function(a,n,l,e,r){return" tertiary"},24:function(a,n,l,e,r){var t,i=null!=n?n:{},s=l.helperMissing;return'<span class="item-subtitle '+(null!=(t=l.if.call(i,null!=n?n.header:n,{name:"if",hash:{},fn:a.program(25,r,0),inverse:a.program(27,r,0),data:r}))?t:"")+'">'+(null!=(t=l.unless.call(i,null!=n?n.header:n,{name:"unless",hash:{},fn:a.program(29,r,0),inverse:a.noop,data:r}))?t:"")+a.escapeExpression((l.renderTrustedMarkup||n&&n.renderTrustedMarkup||s).call(i,(l.multiHighlightString||n&&n.multiHighlightString||s).call(i,null!=n?n.subtitle:n,null!=n?n.subtitleHighlights:n,"highlight",{name:"multiHighlightString",hash:{},data:r}),{name:"renderTrustedMarkup",hash:{},data:r}))+(null!=(t=l.unless.call(i,null!=n?n.header:n,{name:"unless",hash:{},fn:a.program(31,r,0),inverse:a.noop,data:r}))?t:"")+"</span>"},25:function(a,n,l,e,r){return"link"},27:function(a,n,l,e,r){return"tertiary"},29:function(a,n,l,e,r){return"("},31:function(a,n,l,e,r){return")"},33:function(a,n,l,e,r){var t;return'<span class="item-remove" data-query="'+a.escapeExpression("function"==typeof(t=null!=(t=l.title||(null!=n?n.title:n))?t:l.helperMissing)?t.call(null!=n?n:{},{name:"title",hash:{},data:r}):t)+'"><svg class="icon icon-close"><use xlink:href="#icon-close"></use></svg></span>'},compiler:[7,">= 4.0.0"],main:function(a,n,l,e,r){var t,i=null!=n?n:{};return'<div class="autosuggest-item'+(null!=(t=l.if.call(i,null!=n?n.header:n,{name:"if",hash:{},fn:a.program(1,r,0),inverse:a.noop,data:r}))?t:"")+(null!=(t=l.if.call(i,null!=n?n.empty:n,{name:"if",hash:{},fn:a.program(3,r,0),inverse:a.noop,data:r}))?t:"")+(null!=(t=l.if.call(i,null!=n?n.url:n,{name:"if",hash:{},fn:a.program(5,r,0),inverse:a.program(10,r,0),data:r}))?t:"")+">\n\t"+(null!=(t=l.if.call(i,null!=n?n.avatar:n,{name:"if",hash:{},fn:a.program(12,r,0),inverse:a.noop,data:r}))?t:"")+"\n\t"+(null!=(t=l.if.call(i,null!=n?n.iconClass:n,{name:"if",hash:{},fn:a.program(17,r,0),inverse:a.noop,data:r}))?t:"")+"\n\t"+(null!=(t=l.if.call(i,null!=n?n.useIconPlaceholder:n,{name:"if",hash:{},fn:a.program(19,r,0),inverse:a.noop,data:r}))?t:"")+"\n\t"+(null!=(t=l.if.call(i,null!=n?n.title:n,{name:"if",hash:{},fn:a.program(21,r,0),inverse:a.noop,data:r}))?t:"")+"\n\t"+(null!=(t=l.if.call(i,null!=n?n.subtitle:n,{name:"if",hash:{},fn:a.program(24,r,0),inverse:a.noop,data:r}))?t:"")+"\n\t"+(null!=(t=l.if.call(i,null!=n?n.clear:n,{name:"if",hash:{},fn:a.program(33,r,0),inverse:a.noop,data:r}))?t:"")+"\n</div>\n"},useData:!0}),e={};a.Array.each([],function(n){var l=a.Template.get("hermes/"+n);l&&(e[n]=l)}),a.Template.register("hermes/search-autosuggest-list-item",function(n,r){return r=r||{},r.partials=r.partials?a.merge(e,r.partials):e,l(n,r)})},"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("hermes-template-search-autosuggest-items-list",function(e,t){var a=e.Template.Handlebars.revive({1:function(e,t,a,s,r){var l;return'\t\t<li class="autosuggest-list-elem" role="menuitem">'+(null!=(l=e.invokePartial(s["search-autosuggest-list-item"],t,{name:"search-autosuggest-list-item",data:r,helpers:a,partials:s,decorators:e.decorators}))?l:"")+"</li>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,a,s,r){var l;return'<ul class="autosuggest-items-list" role="menu">\n'+(null!=(l=a.each.call(null!=t?t:{},null!=t?t.autosuggestItems:t,{name:"each",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))?l:"")+"</ul>\n"},usePartial:!0,useData:!0}),s={};e.Array.each(["search-autosuggest-list-item"],function(t){var a=e.Template.get("hermes/"+t);a&&(s[t]=a)}),e.Template.register("hermes/search-autosuggest-items-list",function(t,r){return r=r||{},r.partials=r.partials?e.merge(s,r.partials):s,a(t,r)})},"@VERSION@",{requires:["template-base","handlebars-base","hermes-template-search-autosuggest-list-item"]});YUI.add("autosuggest-data-manager",function(e){function i(e){return e.trim().split(/\s+/)}function t(i){var t=i.replace(/[\W,_]/g,"").toLowerCase();return e.fluid.removeDiacritics(t)}function r(e){var i,t,r="",n=e.split("");for(t=0,i=n.length;t<i-1;t++)r+=n[t]+"[\\W,_]*";return r+=n[i-1]}var n;(n=e.AutosuggestDataManager=function(e){(e=e||{}).prefixTrie?this.prefixTrie=e.prefixTrie:this._buildPrefixTrie(e.items)}).locateQuery=function(e,n){var s,u,f,o,c,l,a,h=[],d={};if(!e||!n)return[];for(a=0,u=(s=i(e)).length;a<u;a++)d[f=t(s[a])]||(o=r(f),(c=new RegExp("(\\b|_)("+o+")","i").exec(n))&&(l=c.index+c[1].length,h.push({start:l,end:l+c[2].length})),d[f]=!0);return h},n.deserialize=function(e){return new n({prefixTrie:JSON.parse(e)})},n.prototype={add:function(e){function r(n){var l,a,h,d,g,p,T,x,m,y,_;for(l=0,a=n.length;l<a;l++){if(h=n[l],g=[],h.title&&(g=g.concat(i(h.title))),h.subtitle&&(g=g.concat(i(h.subtitle))),h.aliases)for(_=0,d=h.aliases.length;_<d;_++)g=g.concat(i(h.aliases[_]));for(_=0,p=g.length;_<p;_++)for(T=g[_],x=o.prefixTrie,m=t(T).split("");y=m.shift();)x.children[y]=x.children[y]||o._newTrieNode(),(x=x.children[y]).itemKeys[h.key]||(x.items.push(h),x.itemKeys[h.key]=!0)}u<s&&(f=s>u+c?u+c:s,n=e.slice(u,f),u=f,setTimeout(function(){r(n)},0))}var n,s,u,f,o=this,c=250;u=0,s=e.length,f=s>u+c?u+c:s,n=e.slice(u,f),u=f,r(n)},query:function(e){var r,n,s,u,f,o=this;return e?(i(e).every(function(e){if(r=o.prefixTrie,!(n=t(e).split("")).length)return!0;for(;r&&(f=n.shift());)r=r.children[f];return r&&0===n.length?(s=r.items.slice(),!(u=u?o._intersectMatches(u,s):s)||0!==u.length):(u=[],!1)}),u||[]):[]},serialize:function(){return JSON.stringify(this.prefixTrie)},_buildPrefixTrie:function(e){this.prefixTrie=this._newTrieNode(),e&&this.add(e)},_newTrieNode:function(){return{items:[],itemKeys:{},children:{}}},_intersectMatches:function(e,i){return e.filter(function(e){return i.some(function(i){return i.key===e.key})})}}},"@VERSION@",{requires:[],optionalRequires:["fluid"]});